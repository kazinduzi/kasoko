(function(a){a(document.body).on("submit","#newsletter-form",function(d){d.preventDefault();var b=a("input#newsletter");var c=/[\w-]+@([\w-]+\.)+[\w-]+/;if(!c.test(b.val())){b.addClass("fail")}else{a.ajax({url:a(this).attr("action"),method:"POST",data:a(this).serialize()}).done(function(e){if(JSON.parse(e)===true){a(location).attr("href",HOME_URL)}}).fail(function(){b.addClass("fail")})}});a(document.body).on("click","#button-cart",function(){a.ajax({url:"/cart/add",type:"post",data:a(".product-info input[type=text], .product-info input[type=number], .product-info input[type=hidden], .product-info input[type=radio]:checked, .product-info input[type=checkbox]:checked, .product-info select, .product-info textarea"),dataType:"json",success:function(b){window.location="/cart"}})});a(document.body).on("click","#button-account",function(){a.ajax({url:"/checkout/checkout/register",dataType:"json",beforeSend:function(){},complete:function(){},success:function(b){a("#checkout .checkout-heading").html("Step2: Billing information");a("#checkout .checkout-content").html(b.output)}})});a(document.body).on("click","#button-register",function(){a.ajax({url:"/checkout/checkout/register",type:"post",dataType:"json",data:a("#step1 input[type=text], #step1 input[type=tel], #step1 input[type=email], #step1 input[type=password], #step1 input[type=checkbox]:checked, #step1 input[type=radio]:checked, #step1 select"),success:function(b){console.log(b);if(b.error){}else{if(b.redirect){window.location=b.redirect}}}})});a("#button-login").on("click",function(){a.ajax({url:"/checkout/checkout/login",type:"post",dataType:"json",data:a("#step1 input[type=text], #step1 input[type=email], #step1 input[type=password]"),success:function(b){console.log(b);if(b.error){}else{if(b.redirect){window.location=b.redirect}}}})});a("#button-shipping-information").on("click",function(){var b="";b=a("#shipping-information").serialize();a.ajax({url:"/checkout/checkout/shipping_information",type:"post",dataType:"json",data:b,success:function(c){console.log(c);if(c.error){alert("perfom here all that is occured when there errors")}else{if(c.redirect){window.location=c.redirect}}}})});a("#button-shipping-method").on("click",function(){a.ajax({url:"/checkout/checkout/shipping_method",type:"post",dataType:"json",data:a("#shipping_methods").serialize(),success:function(b){console.log(b);if(b.error){}else{if(b.redirect){window.location=b.redirect}}}})});a("#button-payment-method").on("click",function(){a.ajax({url:"/checkout/checkout/payment_method",type:"post",dataType:"json",data:a("#payment_method_form").serialize(),success:function(b){console.log(b);if(b.error){}else{if(b.redirect){window.location=b.redirect}}}})});a("#button-confirm").on("click",function(){a.ajax({url:"/checkout/checkout/confirm",type:"post",success:function(c,b,e){var d=jQuery.parseJSON(e.responseText);notify(c.toString());notify(b.toString())},error:function(d,b,c){notify(b)}})});a("#content").on("change","#limit-top, #sortby-top",function(){window.location=a(this).val()});a(function(){a(".vertnav-side li.nav-item a").each(function(){if(a(this).next().length>0){a(this).addClass("parent")}});a(".opener").on("click",function(c){a(this).toggleClass("CLOSE");var b=a(this).parent();b.toggleClass("active");a(this).siblings(".nav-submenu").slideToggle()});adjustMenu()})})(jQuery);var populateZonesByCountry=function(a){$('#shipping-information select[name="shipping[zone_id]"]').load("/customer/address/zone/"+a)};var ww=document.body.clientWidth;$(window).bind("resize orientationchange",function(){ww=document.body.clientWidth;adjustMenu()});var adjustMenu=function(){if(ww<768){$(".toggleMenu").css("display","inline-block");if(!$(".toggleMenu").hasClass("active")){$(".nav").hide()}else{$(".nav").show()}$(".nav li").unbind("mouseenter mouseleave");$(".nav li a.parent ~ span.touch-button").unbind("click").bind("click",function(a){a.preventDefault();$(this).parent("li").toggleClass("hover")})}else{if(ww>=768){$(".toggleMenu").css("display","none");$(".nav").show();$(".nav li").removeClass("hover");$(".nav li a").unbind("click");$(".nav li").unbind("mouseenter mouseleave").bind("mouseenter mouseleave",function(){$(this).toggleClass("hover")})}}};$(".opener").click(function(){});